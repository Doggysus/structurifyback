pluginManagement {
	repositories {
		maven { url "https://maven.fabricmc.net/" }
		maven { url "https://maven.architectury.dev/" }
		maven { url "https://files.minecraftforge.net/maven/" }
		maven { url "https://maven.kikugie.dev/releases" }
		mavenCentral()
		gradlePluginPortal()
	}
}

plugins {
	id "dev.kikugie.stonecutter" version "0.3.7"
}

rootProject.name = 'structurized'

def dists = ['common', 'fabric', 'forge' ]
include(dists as String[])

extensions.configure(dev.kikugie.stonecutter.gradle.StonecutterSettings) {
	kotlinController = true
	centralScript = 'build.gradle.kts'

	shared {
		versions '1.20.1', '1.20.2'
	}

	dists.each {
		create(project(":$it"))
	}

	create(rootProject)
}